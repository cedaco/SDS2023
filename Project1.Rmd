---
title: "Project 1"
author: "Cesar"
date: "2023-09-19"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, include=FALSE}
sky <- read.csv('Project1_skyscrapers.csv')
View(sky)
library(ggplot2)
```

## Introduction

This data set displays information about various skyscrapers in the United States. The data set has the following variables: the name of the building, the location of the building, the primary material used to build the building, the amount of floors in the building, the height of the building in meters, its current status (if it is standing or demolished), the year the building finished being built, the year construction for the building commenced, and the amount of years it took to construct the skyscraper. In this project, I will be analyzing if the heights of buildings are impacted by the amount of time they took to build and the amount of floors the building has; I am also going to analyze the Current Status (Completed or Destroyed) of the buildings with respect to their heights to see if demolished buildings are smaller than completed buildings.

## Distribution of Heights

```{r, echo=FALSE}
sky_ggplot <- ggplot(sky)

# Creating a one-variable histogram for building height.
sky_ggplot + geom_histogram(aes(x=Height), col = 'blue', fill = 'blue', alpha = .5, bins = 30) + labs(title= "Heights of Various Sky Scrapers in the United States", x = 'Building Heights (m)', y= "Frequency")

#Gives summary statistics of the height distribution.
summary(sky$Height)
```
We can see that the lowest height for all skyscrapers in the data set is 39.31 meters tall and the tallest skyscraper is 541.30 meters tall. The median height is 129.41 meters and the mean height is 137.21 meters. The height of the first quartile is 103.00 meters and the height of the third quartile is 157.43 meters. 

By looking at the graph we can see that the distribution is skewed to the right. Most of the buildings in this data set are between 100 and 200 meters tall.

## Does the Time it Took to Complete a Bulding Affect its Height?
```{r, echo = FALSE}

# Creating a scatterplot to display the relationship between the height and time spent building a skyscraper.
sky_ggplot + geom_point(aes(x=YearsToBuild, y=Height), alpha = 0.5, col = 'blue') + labs(title = 'Distribution of Skyscraper Heights with Respect to the Time Spent Building', x = 'Time Spent Building(years)', y = 'Building Height (m)')

# Calculates the correlation coefficient between time spent building and building height.
cor(sky$YearsToBuild, sky$Height)
```
There is a weak positive correlation between time spent building and building height. The correlation coefficient is 0.2005414. It appears that most of the buildings in this data set, regardless of height, were completed within zero to five years, which I believe is the reason for weak correlation.


# Are the Heights of Buildings Affected by the Amount of Floors the Building Has?

```{r, echo = FALSE}
# Creating a scatterplot to show the relationship between the amount of floors in a building and its height.
sky_ggplot + geom_point(aes(x = Floors, y = Height ), col = 'blue',  alpha = 0.5) + labs(title = 'Distribution of Skyscraper Heights with Respect to the Amount of Floors', x = 'Amount of Floors', y = 'Building Height (m)')

# Calculates the correlation coefficient between amount of floors on a building and its height.
cor(sky$Floors, sky$Height)
```
There is a very strong positive correlation between Amount of Floors and Building Height. This can be easily seen by the graph: when one variable increases, the other variable increases as well. This was confirmed by calculating the correlation coefficient between these two variables; the correlation coefficient is 0.8896592, which indicates and almost perfect positive correlation.

## Are Demolished Buildings Smaller than Completed Buildings?

```{r, echo = FALSE}
# Displays the amount of completed (standing) and demolished buildings.
table(sky$CurrentStatus)

# Creates two boxplots, one for the distribution of building heights for completed buildings, and the second for distribution of building heights for demolished buildings.
sky_ggplot + geom_boxplot(aes(x=CurrentStatus, y=Height), col = 'blue') + labs(title = 'Distribution of Skyscraper Heights for Completed and Destroyed Buildings', x = 'Building Status', y = 'Building Height (m)')

#I then had to create a subset that only contained the heights of demolished buildings in order to be able to easily calculate descriptive statistics. I assigned this subset the name demolishedHeights.
demolishedHeights = sky[sky$CurrentStatus == 'demolished' & sky$Height,]
#I then had to create a subset that only contained the heights of completed buildings in order to be able to easily calculate descriptive statistics. I assigned this subset the name completedHeights.
completedHeights = sky[sky$CurrentStatus == 'completed' & sky$Height,]

# Calculates the median height for completed buildings.
median(completedHeights$Height)

# Calculates the median height for demolished buildings.
median(demolishedHeights$Height)


```
Given the data, completed buildings appear to be taller than demolished buildings. The completed buildings have a higher median height of 129.85 meters when compared to the demolished buildings' median of 102.795 meters. It is important to analyze the median instead of the completed buildings have a lot of positive outliers which will increase the mean, but wont affect the median as much. Another thing to consider is the fact that there are only twenty four demolished buildings in the data set, while there are one-thousand-two-hundred-and-fifty-one completed buildings.

## Conclusion
In this project, we saw how height may be affected by three different variables: time to build, amount of floors, and its current status. We found that the amount of years it took to build the skyscraper does not really affect its height, while the amount of floors the building has almost perfectly correlates with the building's height; standing/completed buildings overall appear to be taller than demolished buildings. While these variables can give us a lot of insight on what makes one building taller than another, there are still other variables to consider that were not included in this data set. For example, analyzing how the method of building the skyscraper affects height can help us see if using more modern methods to build skyscrapers results in taller buildings. All data was gathered from [The Skyscraper Center](https://www.ctbuh.org/?redirect=true) on [this page](https://corgis-edu.github.io/corgis/csv/skyscrapers/).



